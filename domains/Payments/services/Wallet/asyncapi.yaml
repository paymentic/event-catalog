asyncapi: 2.6.0
id: 'urn:com.paymentic.transaction'
info:
  title: Seller Wallet Payments API CloudEvents API structured
  version: 0.0.1
defaultContentType: application/cloudevents+json; charset=UTF-8
channels:

  paymentsOrderApproved:
    description: The topic on which payments may be consumed.
    publish:
      summary: >-
        Inform about payment order approved
      operationId: paymentsOrderApprovedStream
      message:
        $ref: '#/components/messages/cePaymentOrderApprovedEvent'

  transactionWalletRegistered:
    description: The topic on which payments may be consumed.
    subscribe:
      summary: >-
        Inform about transaction registered in wallet
      operationId: transactionWalletRegisteredStream
      message:
        $ref: '#/components/messages/ceTransactionWalletRegisteredEvent'


components:

  messages:

    cePaymentOrderApprovedEvent:
      name: paymentOrderApprovedEvent
      title: Payment Orders Approved
      summary: >-
        Inform about environmental lighting conditions of a particular
        streetlight.
      contentType: application/cloudevents+json; charset=UTF-8
      payload:
        $ref: '#/components/schemas/paymentOrderApprovedEvent'

    ceTransactionWalletRegisteredEvent:
      name: transactionWalletRegisteredEvent
      title: Transaction registered in wallet
      summary: >-
        Inform about environmental lighting conditions of a particular
        streetlight.
      contentType: application/cloudevents+json; charset=UTF-8
      payload:
        $ref: '#/components/schemas/transactionWalletRegisteredEvent'

  schemas:

    paymentCreatedEvent:
      type: object
      allOf:
        - $ref: 'https://raw.githubusercontent.com/cloudevents/spec/v1.0.1/spec.json'
      properties:
        data:
          $ref: 'https://raw.githubusercontent.com/paymentic/schemas/main/payments/payments-gateway.v1.payment-created.json'

    transactionWalletRegisteredEvent:
      type: object
      allOf:
        - $ref: 'https://raw.githubusercontent.com/cloudevents/spec/v1.0.1/spec.json'
      properties:
        data:
          $ref: 'https://raw.githubusercontent.com/paymentic/schemas/main/transactions/payments-gateway.v1.transaction-wallet-registered.json'


    paymentOrderApprovedEvent:
      type: object
      allOf:
        - $ref: 'https://raw.githubusercontent.com/cloudevents/spec/v1.0.1/spec.json'
      properties:
        data:
          $ref: 'https://raw.githubusercontent.com/paymentic/schemas/main/payments/payments-gateway.v1.payment-order-approved.json'
